(()=>{const e=document.querySelector(".form-data"),t=document.querySelector(".region-name"),o=document.querySelector(".api-key"),n=document.querySelector(".errors"),l=document.querySelector(".loading"),a=document.querySelector(".result-container"),s=document.querySelector(".carbon-usage"),r=(document.querySelector(".fossil-fuel"),document.querySelector(".my-region")),c=document.querySelector(".clear-btn");async function y(t,o){try{await axios.get(`https://api.github.com/users/${t}/repos`,{params:{sort:o}}).then((o=>{l.style.display="none",e.style.display="none",r.textContent=t,s.textContent=o,a.style.display="block"}))}catch(e){console.log(e),l.style.display="none",a.style.display="none",n.textContent="Sorry, we have no data for the region you have requested."}}function i(){const t=localStorage.getItem("apiKey"),o=localStorage.getItem("regionName");null===t||null===o?(e.style.display="block",a.style.display="none",l.style.display="none",c.style.display="none",n.textContent=""):(y(t,o),a.style.display="none",e.style.display="none",c.style.display="block")}e.addEventListener("submit",(e=>function(e){e.preventDefault(),console.log("Setting up user session..."),function(e,t){localStorage.setItem("apiKey",e),localStorage.setItem("regionName",t),l.style.display="block",n.textContent="",c.style.display="block",y(e,t)}(o.value,t.value)}(e))),c.addEventListener("click",(e=>function(e){e.preventDefault(),localStorage.removeItem("regionName"),i()}(e))),i()})();